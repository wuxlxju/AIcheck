# 快速测试指南

## 测试前准备

确保后端和前端都已启动：

### 启动后端
```bash
cd backend
python app.py
```

### 启动前端
```bash
cd frontend
npm run dev
```

## 测试流程

### 1. 用户注册和登录

1. 访问 `http://localhost:3000`
2. 点击"注册"
3. 输入邮箱和密码（邮箱格式：test@example.com，密码至少6位）
4. 注册成功后自动登录

**或使用默认管理员账户：**
- 邮箱：`admin@aicheck.com`
- 密码：`admin123456`

### 2. 充值点数（开发环境模拟）

1. 登录后，点击导航栏的"充值"按钮
2. 选择充值套餐或输入自定义金额
3. 选择支付方式（微信或支付宝）
4. 点击"立即充值"
5. 在支付页面，按 F12 打开浏览器控制台
6. 在控制台执行以下代码模拟支付成功：

```javascript
fetch(`/api/payment/mock-complete/${window.location.pathname.split('/').pop()}`, {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${localStorage.getItem('access_token')}`,
    'Content-Type': 'application/json'
  }
}).then(res => res.json()).then(data => {
  alert('支付成功！点数已到账：' + data.points);
  window.location.href = '/dashboard';
});
```

7. 点数会立即到账，页面自动跳转到控制台

### 3. 上传文件检测

1. 点击"上传文件"
2. 拖拽或选择 .docx 或 .txt 文件
3. 确认消耗点数
4. 等待处理完成
5. 查看检测结果和下载PDF报告

### 4. 查看历史记录

1. 在"控制台"页面查看所有检测记录
2. 点击"查看报告"下载PDF

### 5. 管理后台（仅管理员）

1. 使用管理员账户登录
2. 点击"管理后台"
3. 查看统计数据
4. 点击"用户管理"可以：
   - 封禁/解封用户
   - 手动修改用户点数
   - 搜索用户

## 测试文件准备

创建测试文件：

### test.txt
```
这是一个测试文件，用于AI检测。
人工智能技术在现代社会中扮演着越来越重要的角色。
从自动驾驶到智能助手，AI正在改变我们的生活方式。
然而，我们也需要关注AI带来的伦理和隐私问题。
确保技术发展的同时，保护人类的基本权利是至关重要的。
（至少需要100字才能通过检测）
```

### test.docx
使用 Microsoft Word 创建一个包含至少100字的文档。

## 常见问题

### 1. 后端启动失败
- 检查Python版本（需要3.11+）
- 确保已安装所有依赖：`pip install -r requirements.txt`
- 检查端口5000是否被占用

### 2. 前端启动失败
- 检查Node.js版本（需要18+）
- 删除 node_modules 重新安装：`rm -rf node_modules && npm install`
- 检查端口3000是否被占用

### 3. 文件上传失败
- 确保文件格式为 .docx 或 .txt
- 确保文件大小不超过10MB
- 确保文件内容至少100字

### 4. 点数不足
- 使用充值功能添加点数
- 或者在管理后台手动增加点数

### 5. PDF下载失败
- 检查后端 pdf_reports 目录是否存在
- 检查文件是否在24小时内（超时会自动删除）

## 功能检查清单

- [ ] 用户注册
- [ ] 用户登录
- [ ] 忘记密码（需要配置邮件服务器）
- [ ] 充值点数（开发环境使用模拟支付）
- [ ] 上传文件
- [ ] 查看检测结果
- [ ] 下载PDF报告
- [ ] 查看历史记录
- [ ] 管理后台 - 仪表盘
- [ ] 管理后台 - 用户管理
- [ ] 管理后台 - 封禁用户
- [ ] 管理后台 - 修改点数

## 性能测试

### 并发上传测试
系统支持至少5人同时上传文件，可以使用多个浏览器窗口测试。

### 文件大小测试
- 最小：100字
- 最大：10MB 或 50000字

## 下一步

测试完成后，参考以下文档进行生产部署：
- `DEPLOYMENT.md` - 生产环境部署
- `PAYMENT_INTEGRATION.md` - 真实支付接口集成
- `README.md` - 项目总览

